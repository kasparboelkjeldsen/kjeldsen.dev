{"version":3,"file":"blogPostContainerPage.vue2.mjs","sources":["../../../../../components/pages/blogPostContainerPage.vue"],"sourcesContent":["<template>\r\n  <section class=\"px-4 pb-24 max-w-6xl mx-auto\">\r\n    <h1 class=\"text-4xl font-bold leading-tight tracking-tight mb-10\">Blog</h1>\r\n\r\n    <ul class=\"grid gap-10 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2\">\r\n      <li\r\n        v-for=\"child in blogPosts\"\r\n        :key=\"child.id\"\r\n        class=\"bg-zinc-900 rounded-xl overflow-hidden shadow hover:shadow-xl transition-shadow\"\r\n      >\r\n        <a :href=\"child.route?.path ?? '#'\" class=\"block group h-full\">\r\n          <div v-if=\"child.properties.seoListImage?.[0]?.url\">\r\n            <img \r\n              :src=\"child.properties.seoListImage[0].url\"\r\n              alt=\"\"\r\n              class=\"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105\"\r\n            />\r\n          </div>\r\n          <div class=\"p-6\">\r\n            <p v-if=\"child.properties.writer\" class=\"text-white\">{{ GetWriter(child.properties.writer) }}</p>\r\n            <h2 class=\"text-xl font-semibold mb-2 text-white\">\r\n              {{ child.properties.seoTitle }}\r\n            </h2>\r\n            <p class=\"text-gray-400 text-sm\">\r\n              {{ child.properties.seoDescription }}\r\n            </p>\r\n          </div>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </section>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type {\r\n  BlogPostContainerPageContentResponseModel,\r\n  BlogPostPageContentResponseModel,\r\n  IApiContentModel,\r\n  WriterContentModel,\r\n  PagedIApiContentResponseModel\r\n} from \"~/server/delivery-api\";\r\n\r\n// ✅ Define props like before\r\nconst props = defineProps<{\r\n  data: BlogPostContainerPageContentResponseModel;\r\n}>();\r\n\r\n// ✅ Helper remains unchanged\r\nfunction GetWriter(model: IApiContentModel[]) {\r\n  \r\n  return model\r\n    .map((item) => (item as WriterContentModel).properties?.writerName)\r\n    .filter((name): name is string => !!name)\r\n    .join(\", \");\r\n}\r\n\r\n// ✅ Now calling your secure API endpoint instead of content.children()\r\nconst { data: children } = await useFetch<PagedIApiContentResponseModel>(`/api/content/children/${props.data.id}`,{ server: true });\r\n\r\n\r\n// ✅ Fully typed!\r\nconst blogPosts = children.value?.items as BlogPostPageContentResponseModel[];\r\n</script>\r\n\r\n<style></style>\r\n"],"names":["_a","_withAsyncContext"],"mappings":";;;;;;;;;;;;AA2CA,UAAM,QAAQ;AAKd,aAAS,UAAU,OAA2B;AAE5C,aAAO,MACJ,IAAI,CAAC,SAAU;;AAAA,gBAAAA,MAAA,KAA4B,eAA5B,gBAAAA,IAAwC;AAAA,OAAU,EACjE,OAAO,CAAC,SAAyB,CAAC,CAAC,IAAI,EACvC,KAAK,IAAI;AAAA,IAAA;AAIR,UAAA,EAAE,MAAM,SAAmB,KAAA,CAAA,QAAA,SAAA,IAAAC,iBAAA,MAAA,SAAwC,yBAAyB,MAAM,KAAK,EAAE,IAAG,EAAE,QAAQ,qBAAM,CAAA;AAI5H,UAAA,aAAY,cAAS,UAAT,mBAAgB;;;;;;;;;;;;;;;;;;;;;;;"}